
# 🎄FLOW

---
1. 방문 날짜를 입력받는다.
   - **숫자가 아닌 경우 예외 발생**
   - **날짜의 범위가 1 ~ 31일이 아닌 경우 예외 발생** 
   - **null인 경우 예외 발생**
</br></br>
2. 메뉴와 개수를 입력받는다.
   - **입력받은 메뉴가 메뉴판에 없는 경우 예외 발생**
   - **메뉴의 개수가 0개면 예외 발생**
   - **입력받는 메뉴 형식이 다르면 예외 발생**
     - 콤마 다음 공백, - 누락
     - E.g. 
     - 해산물파스타-2,레드와인-1 O
     - 해산물파스타2, 레드와인 1 X
   - **음료만 주문할 경우 예외 발생**
   - **입력된 메뉴가 중복될 경우 예외 발생**
   - **메뉴의 개수가 20개를 넘어가는 경우 예외 발생**
   - **null인 경우 예외 발생**
</br></br>
3. 주문 메뉴를 출력한다.
   - 출력 순서는 고려하지 않는다.
</br></br>
4. 할인 전 총 주문 금액을 출력한다.
   - 주문한 메뉴들의 가격을 모두 더한다.
</br></br>
5. 증정 메뉴를 출력한다.
   - 증정 이벤트에 충족되는 지 검사한다.
     - 할인 전 총 주문 금액이 12만원 이상인 경우
   - 증정 이벤트에 해당하지 않으면 "없음"으로 출력한다.
</br></br>
5. 혜택 내역을 출력한다.
   - 고객에게 적용된 혜택 내역만 출력한다.
   - 적용된 혜택이 없는 경우, "없음"으로 출력한다.
   - 여러 개의 혜택이 적용되었다면, 출력 순서는 고려하지 않는다.
   - 총 주문 금액이 10,000원 이상부터 혜택이 적용된다.
> 혜택(이벤트) 계획
>> 크리스마스 디데이 할인
>> - 이벤트 기간 : 2023.12.1 ~ 2023.12.25
>> - 1,000원으로 시작하여 하루에 할인 금액은 100원씩 증가한다.
>> - 총 주문 금액에서 해당 금액만큼 할인된다.
>> - (e.g. 시작일인 12월 1일에 1,000원, 2일에 1,100원, ..., 25일엔 3,400원 할인)<br>
>
>> 평일 할인 
>> - 이벤트 기간 : 2023.12.1 ~ 2023.12.31
>> - 일요일~목요일에 적용된다.
>> - 디저트 메뉴 1개당 2,023원씩 할인된다.
>
>> 주말 할인 
>> - 이벤트 기간 : 2023.12.1 ~ 2023.12.31
>> - 금요일~토요일에 적용된다.
>> - 메인 메뉴 1개당 2,023원씩 할인된다.
> 
>> 특별 할인
>> - 이벤트 기간 : 2023.12.1 ~ 2023.12.31
>> - 달력에 별이 있는 날 적용된다. (3, 10, 17, 24, 25, 31일)
>> - 총 주문 금액에서 1,000원 할인된다.
>
>> 증정 이벤트
>> - 이벤트 기간 : 2023.12.1 ~ 2023.12.31
>> - 할인 전 총 주문 금액이 12만원 이상일 때, 샴페인 1개가 증정된다.
</br></br>
7. 총 혜택 금액을 출력한다.
   - 총 혜택 금액 = 할인 금액의 합계 + 증정 메뉴(샴페인)의 가격
</br></br>
8. 할인 후 예상 결제 금액을 출력한다.
   - 할인 후 예상 결제 금액 : 할인 전 총 주문 금액 - 할인 금액
</br></br>
9. 12월 이벤트 배지를 출력한다.
   - 이벤트 배지가 부여되지 않았다면 "없음"으로 출력
   - 이벤트 배지는 총 혜택금액으로 발급되며 다음과 같다.
     - 5,000원 이상 : 별
     - 10,000 이상 : 트리
     - 20,000 이상 : 산타

# 🔍 요구 사항 분석

---
- 방문 날짜를 입력받는다.
  - [ ] 방문 날짜 입력받기
  - [X] 숫자가 아닌 경우, 예외 처리
  - [X] 날짜의 범위가 1 ~ 31일이 아닌 경우, 예외 처리
  - [X] 문자열이 null인 경우, 예외 처리
</br></br>
- 메뉴와 개수를 입력받는다.
  - [ ] 메뉴와 개수를 입력 받는다.
  - [ ] 입력받은 메뉴가 메뉴판에 없는 경우, 예외 처리한다.
  - [ ] 메뉴의 개수가 0개인 경우, 예외 처리한다.
  - [ ] 입력받는 메뉴 형식이 다를 경우, 예외 처리한다.
  - [ ] 음료만 주문하는 경우, 예외 처리한다.
  - [ ] 입력된 메뉴가 중복될 경우, 예외 처리한다.
  - [ ] 메뉴의 개수가 20개를 넘어가는 경우, 예외 처리한다.
  - [ ] 문자열이 null인 경우, 예외 처리
</br></br>
- 주문 메뉴를 출력한다.
  - [ ] 입력받은 메뉴와 개수를 파싱한다.
  - [ ] 메뉴와 개수를 출력한다.
</br></br>
- 할인 전 총 주문 금액을 출력한다.
  - [ ] 주문한 메뉴들의 가격을 모두 더해서 총 주문 금액을 계산한다.
  - [ ] 총 주문 금액을 출력한다.
</br></br>
- 증정 메뉴를 출력한다.
  - [ ] 증정 이벤트를 검사한다. 
    - [ ] 할인 전 총 주문 금액이 12만원 이상인 경우
  - [ ] 증정 이벤트에 해당하지 않으면 "없음"으로 출력한다.
<br></br>
- 혜택 내역을 출력한다.
  - [ ] 날짜를 바탕으로 적용가능한 이벤트를 찾는다.
    - [ ] 크리스마스 디데이 할인 검사
    - [ ] 평일 할인 검사
    - [ ] 주말 할인 검사
    - [ ] 특별 할인 검사
  - [ ] 고객에게 적용된 이벤트를 출력한다.
    - [ ] 크리스마스 디데이 할인
    - [ ] 평일 할인
    - [ ] 주말 할인
    - [ ] 특별 할인
    - [ ] 증정 이벤트
  - [ ] 적용된 헤택이 없다면 "없음"으로 출력한다.
  - [ ] 총 주문금액이 10,000원 이상인지 확인한다.
</br></br>
- 총 혜택 금액을 출력한다.
  - [ ] 적용된 이벤트를 계산하여 총 혜택 금액을 계산한다.
  - [ ] 총 혜택 금액을 출력한다.
</br></br>
- 할인 후 예상 결제 금액을 출력한다.
  - [ ] 할인 전 총 주문 금액과 혜택 금액의 차액을 계산하여 예상 결제 금액을 구한다.
  - [ ] 예상 결제 금액을 출력한다.
</br></br>
- 12월 이벤트 배지를 출력한다.
  - [ ] 총 혜택 금액을 바탕으로 배지를 발급한다.
  - [ ] 발급받은 배지를 출력한다.
  - [ ] 발급받은 뱃지가 없다면 "없음"으로 출력한다.

# 📋 기능 명세서

---

# 📢 변경점

---
- 입력값에 null이 들어오는 경우 예외 처리 추가
  - 예약 날짜 테스트를 TDD 방식으로 개발하며, 발견한 예외 상황
  - 이번 미션은 이메일 형식으로 진행하는 만큼 실제 일어날 수 있는 상황을 대처해야 한다는 생각을 하게 되어 null이 입력값으로 들어오는 경우에 대해서도 예외 처리를 하는 것이 맞다고 판단 

# ✅ Test

---
## Domain
### UserTest
- 날짜_숫자_아닌_경우_테스트()
  - 입력 날짜가 숫자가 아닌 경우 예외가 발생한다.
</br></br>
- 날짜_범위_테스트()
  - 입력 날짜의 범위가 1 ~ 31일이 아닌 경우 예외가 발생한다.
</br></br>
- 날짜_빈_문자열_테스트()
  - 입력 날짜가 null인 경우 예외가 발생한다.